pipeline {
    agent any
    stages {
        stage('Print WorkSpace') {
            steps {
                script {
				    echo "Hello world"
                    echo "当前的工作目录: ${env.WORKSPACE}"
					echo "BRANCH_NAME: ${env.BRANCH_NAME}"
                }
            }
        }
    }
	
	// 流水线执行结束后调用 post
	post {
		// 流水线执行成功调用 success
		success {                    
			script {
				// 如果构建成功，执行的脚本
				echo "Build succeeded!"
				// 可以在这里执行更多的操作，例如发送成功通知
			}
		}
		
		// 流水线执行失败调用 failure
		failure{
			script {
				// 如果构建失败，执行的脚本
				echo "Build failed!"
				// 可以在这里执行更多的操作，例如发送失败通知
			}
		}
		
		// 流水线无论执行成功还是失败，都会调用 always
		always {
		    script{
			    echo "This will always run, regardless of success or failure."
			}
		}
	}
}
